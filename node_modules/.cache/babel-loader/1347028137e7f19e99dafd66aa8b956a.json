{"remainingRequest":"D:\\epub_\\node_modules\\thread-loader\\dist\\cjs.js!D:\\epub_\\node_modules\\babel-loader\\lib\\index.js!D:\\epub_\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\epub_\\src\\views\\http.js","dependencies":[{"path":"D:\\epub_\\src\\views\\http.js","mtime":1597808097603},{"path":"D:\\epub_\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\epub_\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\epub_\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\epub_\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7Cgp2YXIgYWpheCA9IGZ1bmN0aW9uIGFqYXgob3B0KSB7CiAgb3B0ID0gb3B0IHx8IHt9OwogIG9wdC5tZXRob2QgPSBvcHQubWV0aG9kLnRvVXBwZXJDYXNlKCkgfHwgJ1BPU1QnOwogIG9wdC51cmwgPSBvcHQudXJsIHx8ICcnOwogIG9wdC5hc3luYyA9IG9wdC5hc3luYyB8fCB0cnVlOwogIG9wdC5kYXRhID0gb3B0LmRhdGEgfHwgbnVsbDsKCiAgb3B0LnN1Y2Nlc3MgPSBvcHQuc3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7fTsKCiAgdmFyIHhtbEh0dHAgPSBudWxsOwoKICBpZiAoWE1MSHR0cFJlcXVlc3QpIHsKICAgIHhtbEh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICB9CgogIHZhciBwYXJhbXMgPSBbXTsKCiAgZm9yICh2YXIga2V5IGluIG9wdC5kYXRhKSB7CiAgICBwYXJhbXMucHVzaChrZXkgKyAnOicgKyBvcHQuZGF0YVtrZXldKTsKICB9CgogIHZhciBwb3N0RGF0YSA9IHBhcmFtcy5qb2luKCcmJyk7CiAgY29uc29sZS5sb2cocG9zdERhdGEpOwoKICBpZiAob3B0Lm1ldGhvZC50b1VwcGVyQ2FzZSgpID09PSAnUE9TVCcpIHsKICAgIHhtbEh0dHAub3BlbihvcHQubWV0aG9kLCBvcHQudXJsLCBvcHQuYXN5bmMpOyAvL+iuvue9ruivt+axguWktAoKICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnKTsKICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgIHhtbEh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlJyk7CiAgICB4bWxIdHRwLnNlbmQoSlNPTi5zdHJpbmdpZnkob3B0LmRhdGEpKTsKICB9IGVsc2UgaWYgKG9wdC5tZXRob2QudG9VcHBlckNhc2UoKSA9PT0gJ0dFVCcpIHsKICAgIHhtbEh0dHAub3BlbihvcHQubWV0aG9kLCBvcHQudXJsICsgJz8nICsgcG9zdERhdGEsIG9wdC5hc3luYyk7CiAgICB4bWxIdHRwLnNlbmQobnVsbCk7CiAgfQoKICB4bWxIdHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh4bWxIdHRwLnJlYWR5U3RhdGUgPT0gNCAmJiB4bWxIdHRwLnN0YXR1cyA9PSAyMDApIHsKICAgICAgb3B0LnN1Y2Nlc3MoeG1sSHR0cC5yZXNwb25zZVRleHQpOwogICAgfQogIH07Cn07CgpleHBvcnQgZGVmYXVsdCBhamF4Ow=="},{"version":3,"sources":["D:/epub_/src/views/http.js"],"names":["ajax","opt","method","toUpperCase","url","async","data","success","xmlHttp","XMLHttpRequest","params","key","push","postData","join","console","log","open","setRequestHeader","send","JSON","stringify","onreadystatechange","readyState","status","responseText"],"mappings":";;AAEA,IAAMA,IAAI,GAAG,SAAPA,IAAO,CAACC,GAAD,EAAS;AAClBA,EAAAA,GAAG,GAAGA,GAAG,IAAI,EAAb;AACAA,EAAAA,GAAG,CAACC,MAAJ,GAAaD,GAAG,CAACC,MAAJ,CAAWC,WAAX,MAA4B,MAAzC;AACAF,EAAAA,GAAG,CAACG,GAAJ,GAAUH,GAAG,CAACG,GAAJ,IAAW,EAArB;AACAH,EAAAA,GAAG,CAACI,KAAJ,GAAYJ,GAAG,CAACI,KAAJ,IAAa,IAAzB;AACAJ,EAAAA,GAAG,CAACK,IAAJ,GAAWL,GAAG,CAACK,IAAJ,IAAY,IAAvB;;AACAL,EAAAA,GAAG,CAACM,OAAJ,GAAcN,GAAG,CAACM,OAAJ,IAAe,YAAY,CAAG,CAA5C;;AACA,MAAIC,OAAO,GAAG,IAAd;;AACA,MAAIC,cAAJ,EAAoB;AAChBD,IAAAA,OAAO,GAAG,IAAIC,cAAJ,EAAV;AACH;;AACD,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,GAAT,IAAgBV,GAAG,CAACK,IAApB,EAA0B;AACtBI,IAAAA,MAAM,CAACE,IAAP,CAAYD,GAAG,GAAG,GAAN,GAAYV,GAAG,CAACK,IAAJ,CAASK,GAAT,CAAxB;AACH;;AACD,MAAIE,QAAQ,GAAGH,MAAM,CAACI,IAAP,CAAY,GAAZ,CAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,MAAIZ,GAAG,CAACC,MAAJ,CAAWC,WAAX,OAA6B,MAAjC,EAAyC;AACrCK,IAAAA,OAAO,CAACS,IAAR,CAAahB,GAAG,CAACC,MAAjB,EAAyBD,GAAG,CAACG,GAA7B,EAAkCH,GAAG,CAACI,KAAtC,EADqC,CAErC;;AACAG,IAAAA,OAAO,CAACU,gBAAR,CAAyB,QAAzB,EAAmC,gDAAnC;AACAV,IAAAA,OAAO,CAACU,gBAAR,CAAyB,cAAzB,EAAyC,kBAAzC;AACAV,IAAAA,OAAO,CAACU,gBAAR,CAAyB,eAAzB,EAA0C,SAA1C;AACAV,IAAAA,OAAO,CAACW,IAAR,CAAaC,IAAI,CAACC,SAAL,CAAepB,GAAG,CAACK,IAAnB,CAAb;AACH,GAPD,MAOO,IAAIL,GAAG,CAACC,MAAJ,CAAWC,WAAX,OAA6B,KAAjC,EAAwC;AAC3CK,IAAAA,OAAO,CAACS,IAAR,CAAahB,GAAG,CAACC,MAAjB,EAAyBD,GAAG,CAACG,GAAJ,GAAU,GAAV,GAAgBS,QAAzC,EAAmDZ,GAAG,CAACI,KAAvD;AACAG,IAAAA,OAAO,CAACW,IAAR,CAAa,IAAb;AACH;;AACDX,EAAAA,OAAO,CAACc,kBAAR,GAA6B,YAAY;AACrC,QAAId,OAAO,CAACe,UAAR,IAAsB,CAAtB,IAA2Bf,OAAO,CAACgB,MAAR,IAAkB,GAAjD,EAAsD;AAClDvB,MAAAA,GAAG,CAACM,OAAJ,CAAYC,OAAO,CAACiB,YAApB;AACH;AACJ,GAJD;AAKH,CAjCD;;AAkCA,eAAezB,IAAf","sourcesContent":["\r\n\r\nconst ajax = (opt) => {\r\n    opt = opt || {};\r\n    opt.method = opt.method.toUpperCase() || 'POST';\r\n    opt.url = opt.url || '';\r\n    opt.async = opt.async || true;\r\n    opt.data = opt.data || null;\r\n    opt.success = opt.success || function () { };\r\n    var xmlHttp = null;\r\n    if (XMLHttpRequest) {\r\n        xmlHttp = new XMLHttpRequest();\r\n    }\r\n    var params = [];\r\n    for (var key in opt.data) {\r\n        params.push(key + ':' + opt.data[key]);\r\n    }\r\n    var postData = params.join('&');\r\n    console.log(postData);\r\n    if (opt.method.toUpperCase() === 'POST') {\r\n        xmlHttp.open(opt.method, opt.url, opt.async);\r\n        //设置请求头\r\n        xmlHttp.setRequestHeader('Accept', 'application/json, text/javascript, */*; q=0.01');\r\n        xmlHttp.setRequestHeader('Content-Type', 'application/json');\r\n        xmlHttp.setRequestHeader('Cache-Control', 'private');\r\n        xmlHttp.send(JSON.stringify(opt.data));\r\n    } else if (opt.method.toUpperCase() === 'GET') {\r\n        xmlHttp.open(opt.method, opt.url + '?' + postData, opt.async);\r\n        xmlHttp.send(null);\r\n    }\r\n    xmlHttp.onreadystatechange = function () {\r\n        if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\r\n            opt.success(xmlHttp.responseText);\r\n        }\r\n    };\r\n}\r\nexport default ajax"]}]}